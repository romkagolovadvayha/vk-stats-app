(this["webpackJsonpvk-stats-app"]=this["webpackJsonpvk-stats-app"]||[]).push([[0],{127:function(e,t,n){e.exports=n(165)},146:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},162:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),c=n(33),s=n.n(c),u=n(22),i=n(20),l=n.n(i),p=n(35),m=n(25),d=n(32),f=n(60),h=n(61),E=n(9),v={loadingUser:!1},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_INFO_REQ":return Object(E.a)({},e,{loadingUser:!0});case"GET_USER_INFO_RES":return Object(E.a)({},e,{},t.payload,{loadingUser:!1});default:return e}},g={},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;return"GET_AUTH_TOKEN_RES"===t.type?Object(E.a)({},e,{},t.payload):e},y={loadingGroup:!1},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_GROUP_REQ":return Object(E.a)({},e,{loadingGroup:!0});case"GET_GROUP_RES":return Object(E.a)({},e,{},t.payload.response[0],{loadingGroup:!1});case"GROUP_RESET_RES":return Object(E.a)({},y);default:return e}},j={loadingGroups:!1},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_GROUPS_REQ":return Object(E.a)({},e,{loadingGroups:!0});case"GET_GROUPS_RES":return Object(E.a)({},e,{},t.payload.response,{loadingGroups:!1});default:return e}},S={popout:!1},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_POPOUT":return Object(E.a)({},e);case"SET_POPOUT":return Object(E.a)({},e,{popout:t.block});default:return e}},R={modal:!1},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MODAL":return Object(E.a)({},e);case"SET_MODAL":return Object(E.a)({},e,{modal:t.block});default:return e}},T={loadingFriends:!1},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FRIENDS_REQ":return Object(E.a)({},e,{loadingFriends:!0});case"GET_FRIENDS_RES":return Object(E.a)({},e,{},t.payload.response,{loadingFriends:!1});default:return e}},x={loadingResolveScreenName:!1},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_RESOLVE_SCREEN_NAME_REQ":return Object(E.a)({},e,{loadingResolveScreenName:!0});case"GET_RESOLVE_SCREEN_NAME_RES":return Object(E.a)({},e,{},t.payload.response,{loadingResolveScreenName:!1});default:return e}},C={loadingUserBy:!1},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_REQ":return Object(E.a)({},e,{loadingUserBy:!0});case"GET_USER_RES":return Object(E.a)({},e,{},t.payload,{loadingUserBy:!1});default:return e}},I=Object(d.c)({routing:p.routerReducer,user:_,token:b,group:O,groups:k,popoutApp:G,modalApp:A,friends:w,utils:U,userBy:N}),F=Object(f.createLogger)(),P=Object(p.routerMiddleware)(u.d),L=Object(d.a)(h.a,P,F)(d.d),M=n(23),D=n(31),B=n(26),H=n(24),Q=n(27),V=(n(146),n(4)),K=n(73),W=n.n(K),z=n(74),q=n.n(z),J=n(75),X=n.n(J),Y=function(e){function t(e){var n;return Object(M.a)(this,t),(n=Object(B.a)(this,Object(H.a)(t).call(this,e))).state=void 0,n.onStoryChange=function(e){var t=e.currentTarget.dataset.story;n.setState({activeStory:t}),u.d.push("".concat(t))},n.render=function(){var e=n.state.activeStory;return o.a.createElement(V.v,null,o.a.createElement(V.w,{onClick:function(e){return n.onStoryChange(e)},selected:"/"===e,"data-story":"/",text:"\u0414\u043e\u043c\u0430\u0448\u043d\u044f\u044f"},o.a.createElement(X.a,null)),o.a.createElement(V.w,{onClick:function(e){return n.onStoryChange(e)},selected:"/contacts"===e,"data-story":"/contacts",text:"\u041f\u043e\u0438\u0441\u043a"},o.a.createElement(W.a,null)),o.a.createElement(V.w,{onClick:function(e){return n.onStoryChange(e)},selected:"/faq"===e,"data-story":"/faq",text:"\u041f\u043e\u043c\u043e\u0449\u044c"},o.a.createElement(q.a,null)))},n.state={activeStory:u.d.getCurrentLocation().pathname},n}return Object(Q.a)(t,e),t}(o.a.Component),Z=Object(m.b)((function(e){return{state:e,activeStory:e.activeStory}}),(function(e){return{dispatch:e}}))(Y),$=function(e){var t=e.popout,n=e.modal;return o.a.createElement(V.x,{popout:t,modal:n,activePanel:e.id},o.a.createElement(V.o,{id:e.id},e.children,o.a.createElement(Z,null)))},ee=Object(m.b)((function(e){return{popout:e.popoutApp.popout,modal:e.modalApp.modal}}))($),te=n(7),ne=n.n(te),ae=n(10),re=function(e){return function(t){t({type:"SET_MODAL",block:e})}},oe=(n(157),function(e){function t(e){var n;return Object(M.a)(this,t),(n=Object(B.a)(this,Object(H.a)(t).call(this,e))).getUser=Object(ae.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.getUserInfo,e.next=3,t();case 3:case"end":return e.stop()}}),e)}))),n.render=function(){var e=n.props,t=e.loadingUser,a=e.user;return o.a.createElement("div",{className:"User"},t&&o.a.createElement(V.u,{size:"medium"}),a.first_name&&o.a.createElement(V.r,{status:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!",before:o.a.createElement(V.b,{size:36,src:a.photo_100}),aside:""},a.first_name," ",a.last_name))},n.props.user.first_name||n.getUser(),n}return Object(Q.a)(t,e),t}(o.a.Component)),ce=Object(m.b)((function(e){return{state:e,user:e.user,loadingUser:e.user.loadingUser}}),(function(e){return{dispatch:e,getUserInfo:function(){return e(function(){var e=Object(ae.a)(ne.a.mark((function e(t){var n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_USER_INFO_REQ"}),e.prev=1,e.next=4,l.a.sendPromise("VKWebAppGetUserInfo");case 4:return n=e.sent,t({type:"GET_USER_INFO_RES",payload:n}),e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(1),t({type:"GET_USER_INFO_FAIL",payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}}}))(oe),se=(n(158),function(e){function t(){var e,n;Object(M.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(B.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(r)))).render=function(){return o.a.createElement("div",{className:"Balance"},o.a.createElement("div",{className:"count"},"0 \u0440\u0443\u0431"),o.a.createElement("div",{className:"title"},"\u0411\u0430\u043b\u0430\u043d\u0441"))},n}return Object(Q.a)(t,e),t}(o.a.Component)),ue=n(76),ie=n.n(ue),le=n(77),pe=n.n(le),me=function(e){function t(e){var n;return Object(M.a)(this,t),(n=Object(B.a)(this,Object(H.a)(t).call(this,e))).render=function(){return o.a.createElement(ee,{id:"home"},o.a.createElement(V.p,null,"\u0410\u043d\u0430\u043b\u0438\u0437 \u0432\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435"),o.a.createElement(V.h,{className:"profile"},o.a.createElement(ce,null),o.a.createElement(se,null)),o.a.createElement(V.t,{wide:!0}),o.a.createElement(V.k,{className:"navigationList"},o.a.createElement(u.a,{to:"/groups"},o.a.createElement(V.f,{before:o.a.createElement(pe.a,null)},"\u041e\u0431\u0449\u0438\u0435 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438")),o.a.createElement(V.t,{wide:!0}),o.a.createElement(u.a,{to:"/contacts"},o.a.createElement(V.f,{before:o.a.createElement(ie.a,null)},"\u0423\u0437\u043d\u0430\u0442\u044c \u0441\u043a\u0440\u044b\u0442\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"))))},n.fetchData(),n}return Object(Q.a)(t,e),Object(D.a)(t,[{key:"fetchData",value:function(){(0,this.props.getAuthToken)()}}]),t}(o.a.Component),de=Object(m.b)(null,(function(e){return{dispatch:e,getAuthToken:function(){return e(function(){var e=Object(ae.a)(ne.a.mark((function e(t){var n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_AUTH_TOKEN_REQ"}),e.prev=1,e.next=4,l.a.sendPromise("VKWebAppGetAuthToken",{app_id:7312864,scope:"groups,stats"});case 4:return n=e.sent,t({type:"GET_AUTH_TOKEN_RES",payload:n}),e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(1),t({type:"GET_AUTH_TOKEN_FAIL",payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}}}))(me),fe=(n(159),function(){return o.a.createElement(ee,{id:"contacts"},o.a.createElement(V.p,null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),o.a.createElement(V.h,null,"Contacts page..."))}),he=function(){return o.a.createElement(ee,{id:"faq"},o.a.createElement(V.p,null,"\u041f\u043e\u043c\u043e\u0449\u044c"),o.a.createElement(V.i,{separator:"hide",header:o.a.createElement(V.j,{mode:"secondary"},"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u043d\u043e\u0435?")},o.a.createElement(V.e,null,o.a.createElement(V.d,{size:"l"},o.a.createElement(V.h,null,"\u0423 \u043d\u0430\u0441 \u0435\u0441\u0442\u044c \u043f\u043b\u0430\u0442\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438, \u043d\u043e \u0432 \u0431\u043e\u043b\u044c\u0448\u0435\u0439 \u0447\u0430\u0441\u0442\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0438\u043c\u0435\u0435\u0442 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b.")))),o.a.createElement(V.i,{separator:"hide",header:o.a.createElement(V.j,{mode:"secondary"},"\u0418\u0434\u0435\u0438 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f")},o.a.createElement(V.e,null,o.a.createElement(V.d,{size:"l"},o.a.createElement(V.h,null,"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u043d\u0430\u043c \u0441\u0432\u043e\u044e \u0438\u0434\u0435\u044e, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u044b \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c \u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438.")))))},Ee=n(28),ve=n(78),_e=n.n(ve),ge=n(79),be=n.n(ge),ye=(n(160),n(80)),Oe=n.n(ye),je=function(e){function t(){var e,n;Object(M.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(B.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(r)))).render=function(){var e=n.props,t=e.id,a=e.photo,r=e.removeHandler,c=e.membersCount;return o.a.createElement("div",{className:"groupItem"},o.a.createElement("div",{className:"photo"},o.a.createElement(V.b,{src:a})),o.a.createElement("div",{className:"remove",onClick:function(e){return r(t)}},o.a.createElement(V.b,{style:{background:"var(--destructive)"},size:24},o.a.createElement(Oe.a,{fill:"var(--white)"}))),c>0&&o.a.createElement("div",{className:"membersCount"},n.getMembersCount(c)))},n}return Object(Q.a)(t,e),Object(D.a)(t,[{key:"getMembersCount",value:function(e){var t="".concat(e),n=parseFloat((e/1e6).toFixed(1));return Math.trunc(n)>0?t="".concat(n,"\u041c"):(n=parseFloat((e/1e3).toFixed(1)),Math.trunc(n)>0?t="".concat(n,"\u041a"):t)}}]),t}(o.a.Component),ke=n(43),Se=n.n(ke),Ge=function(e){function t(e){var n;return Object(M.a)(this,t),(n=Object(B.a)(this,Object(H.a)(t).call(this,e))).state=void 0,n.modalBack=function(){return(0,n.props.setModalApp)(!1),{}},n.selectItem=function(e){(0,n.props.addItemHandler)(e),n.modalBack()},n.state={search:"",items:[]},n.onChange=n.onChange.bind(Object(Ee.a)(n)),n}return Object(Q.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.fetchData(),this.getGroupsList()}},{key:"onChange",value:function(e){if(e.target.value.indexOf("com/")>=0){var t=e.target.value.split("com/")[1];this.isItem(t)||this.getResolveScreenName(t)}this.setState({search:e.target.value})}},{key:"getResolveScreenName",value:function(){var e=Object(ae.a)(ne.a.mark((function e(t){var n,a,r,o;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props,a=n.token,r=n.getResolveScreenName,e.next=3,r(t,a.access_token);case 3:if((o=e.sent)&&o.type){e.next=7;break}return console.log("\u041d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f"),e.abrupt("return");case 7:e.t0=o.type,e.next="group"===e.t0?10:"page"===e.t0?10:"user"===e.t0?13:16;break;case 10:return e.next=12,this.searchGroup(o.object_id);case 12:return e.abrupt("break",17);case 13:return e.next=15,this.searchUser(o.object_id);case 15:return e.abrupt("break",17);case 16:console.log("\u041d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f");case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isItem",value:function(e){for(var t=this.state.items,n=0;n<t.length;n++)if(t[n].screen_name===e)return!0;return!1}},{key:"searchGroup",value:function(){var e=Object(ae.a)(ne.a.mark((function e(t){var n,a,r,o,c,s;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props,a=n.token,r=n.getGroup,e.next=3,r(t,a.access_token);case 3:o=e.sent,c=this.state.items,(s=c)[s.length]={id:o.id,name:o.name,photo_50:o.photo_50,screen_name:o.screen_name,members_count:o.members_count},this.setState({items:s});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchUser",value:function(){var e=Object(ae.a)(ne.a.mark((function e(t){var n,a,r,o,c,s;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props,a=n.token,r=n.getUser,e.next=3,r(t,a.access_token);case 3:o=e.sent,c=this.state.items,(s=c)[s.length]={id:o.id,name:"".concat(o.first_name," ").concat(o.last_name),photo_50:o.photo_50,screen_name:o.domain},this.setState({items:s});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=Object(ae.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getGroupsList();case 2:return e.next=4,this.getFriendsList();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getGroupsList",value:function(){var e=Object(ae.a)(ne.a.mark((function e(){var t,n,a,r,o,c;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.token,a=t.getGroups,r=t.groups,o=r,c=this.state.items,o.count){e.next=7;break}return e.next=6,a(n.access_token);case 6:o=e.sent;case 7:o=o.items.map((function(e){return{id:e.id,name:e.name,photo_50:e.photo_50,screen_name:e.screen_name,members_count:e.members_count}})),this.setState({items:c.concat(o)});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFriendsList",value:function(){var e=Object(ae.a)(ne.a.mark((function e(){var t,n,a,r,o,c;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.token,a=t.getFriends,r=t.friends,o=r,c=this.state.items,o.count){e.next=7;break}return e.next=6,a(n.access_token);case 6:o=e.sent;case 7:o=o.items.map((function(e){return{id:e.id,name:"".concat(e.first_name," ").concat(e.last_name),screen_name:e.domain,photo_50:e.photo_50}})),this.setState({items:c.concat(o)});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.loadingGroups,a=t.loadingFriends,r=n||a,c=this.state.search;return o.a.createElement(V.n,{activeModal:"modalFormAddGroups"},o.a.createElement(V.l,{id:"modalFormAddGroups",dynamicContentHeight:!0,onClose:this.modalBack,header:o.a.createElement(V.m,{left:o.a.createElement(V.q,{onClick:this.modalBack},o.a.createElement(Se.a,null))},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")},o.a.createElement(V.s,{value:c,onChange:this.onChange}),r&&o.a.createElement(V.h,null,o.a.createElement(V.u,{size:"medium"})),!r&&c.length>0&&o.a.createElement(V.k,null,this.items.slice(0,5).map((function(t){return o.a.createElement(V.f,{before:o.a.createElement(V.b,{size:40,src:t.photo_50}),onClick:function(){return e.selectItem(t)},key:t.screen_name},t.name)}))),!r&&0===c.length&&o.a.createElement(V.h,{style:{color:"gray"}},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e \u0438\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.")))}},{key:"items",get:function(){var e=this.state,t=e.search,n=e.items,a=t.indexOf("com/")>=0,r="";return a&&(r=t.split("com/")[1]),n.filter((function(e){var n=e.name,o=e.screen_name;return a?o.toLowerCase().indexOf(r.toLowerCase())>-1:n.toLowerCase().indexOf(t.toLowerCase())>-1}))}}]),t}(o.a.Component),Re=Object(m.b)((function(e){return{state:e,token:e.token,groups:e.groups,group:e.group,userBy:e.userBy,utils:e.utils,friends:e.friends,loadingGroups:e.groups.loadingGroups,loadingFriends:e.groups.loadingFriends,loadingGroup:e.group.loadingGroup,loadingUserBy:e.group.loadingUserBy,loadingResolveScreenName:e.utils.loadingResolveScreenName,modal:e.modalApp.modal}}),(function(e){return{dispatch:e,setModalApp:function(t){return e(re(t))},getGroups:function(t){return e(function(e){return function(){var t=Object(ae.a)(ne.a.mark((function t(n){var a;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"GET_GROUPS_REQ"}),t.prev=1,t.next=4,l.a.sendPromise("VKWebAppCallAPIMethod",{method:"groups.get",params:{extended:"1",fields:"id,is_admin,admin_level,name,photo_50,screen_name,type,members_count",v:"5.102",access_token:e}});case 4:return a=t.sent,n({type:"GET_GROUPS_RES",payload:a}),t.abrupt("return",a.response);case 9:t.prev=9,t.t0=t.catch(1),n({type:"GET_GROUPS_FAIL",payload:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},getFriends:function(t){return e(function(e){return function(){var t=Object(ae.a)(ne.a.mark((function t(n){var a;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"GET_FRIENDS_REQ"}),t.prev=1,t.next=4,l.a.sendPromise("VKWebAppCallAPIMethod",{method:"friends.get",params:{fields:"photo_50, domain",v:"5.102",access_token:e}});case 4:return a=t.sent,n({type:"GET_FRIENDS_RES",payload:a}),t.abrupt("return",a.response);case 9:t.prev=9,t.t0=t.catch(1),n({type:"GET_FRIENDS_FAIL",payload:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},getGroup:function(t,n){return e(function(e,t){return function(){var n=Object(ae.a)(ne.a.mark((function n(a){var r;return ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:"GET_GROUP_REQ"}),n.prev=1,n.next=4,l.a.sendPromise("VKWebAppCallAPIMethod",{method:"groups.getById",params:{group_id:e,fields:"id,is_admin,admin_level,name,photo_50,screen_name,type,members_count",v:"5.102",access_token:t}});case 4:return r=n.sent,a({type:"GET_GROUP_RES",payload:r}),n.abrupt("return",r.response[0]);case 9:n.prev=9,n.t0=n.catch(1),a({type:"GET_GROUP_FAIL",payload:n.t0.message});case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},getUser:function(t,n){return e(function(e,t){return function(){var n=Object(ae.a)(ne.a.mark((function n(a){var r;return ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:"GET_USER_REQ"}),n.prev=1,n.next=4,l.a.sendPromise("VKWebAppCallAPIMethod",{method:"users.get",params:{user_ids:e,fields:"photo_50, domain",v:"5.102",access_token:t}});case 4:return r=n.sent,a({type:"GET_USER_RES",payload:r}),n.abrupt("return",r.response[0]);case 9:n.prev=9,n.t0=n.catch(1),a({type:"GET_USER_FAIL",payload:n.t0.message});case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},getResolveScreenName:function(t,n){return e(function(e,t){return function(){var n=Object(ae.a)(ne.a.mark((function n(a){var r;return ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:"GET_RESOLVE_SCREEN_NAME_REQ"}),n.prev=1,n.next=4,l.a.sendPromise("VKWebAppCallAPIMethod",{method:"utils.resolveScreenName",params:{screen_name:e,v:"5.27",https:1,access_token:t}});case 4:return r=n.sent,a({type:"GET_RESOLVE_SCREEN_NAME_RES",payload:r}),n.abrupt("return",r.response);case 9:n.prev=9,n.t0=n.catch(1),a({type:"GET_RESOLVE_SCREEN_NAME_FAIL",payload:n.t0.message});case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))(Ge),Ae=(n(161),function(e){function t(e){var n;return Object(M.a)(this,t),(n=Object(B.a)(this,Object(H.a)(t).call(this,e))).state=void 0,n.addItem=function(e){console.log(e);var t=n.state.groups;t[t.length]=e,n.setState({groups:t})},n.render=function(){var e=n.state.groups;return o.a.createElement("div",null,o.a.createElement(V.g,{onClick:n.openAddGroupForm,before:o.a.createElement(_e.a,null)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044e"),o.a.createElement(V.t,{wide:!0}),e.length>0&&o.a.createElement("div",null,o.a.createElement("div",{className:"groupsList"},e.map((function(e){return o.a.createElement(je,{key:e.id,photo:e.photo_50,id:e.id,membersCount:e.members_count,removeHandler:n.removeHandler})}))),e.length>1&&o.a.createElement(V.h,null,o.a.createElement(V.c,{before:o.a.createElement(be.a,null)},"\u041d\u0430\u0447\u0430\u0442\u044c \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435"))))},n.state={groups:[]},n.closePopout=n.closePopout.bind(Object(Ee.a)(n)),n.openDestructive=n.openDestructive.bind(Object(Ee.a)(n)),n.removeItem=n.removeItem.bind(Object(Ee.a)(n)),n.removeHandler=n.removeHandler.bind(Object(Ee.a)(n)),n.openAddGroupForm=n.openAddGroupForm.bind(Object(Ee.a)(n)),n}return Object(Q.a)(t,e),Object(D.a)(t,[{key:"removeItem",value:function(e){var t=this.state.groups.filter((function(t){return t.id!==e}));this.setState({groups:t})}},{key:"closePopout",value:function(){(0,this.props.setPopoutApp)(!1)}},{key:"removeHandler",value:function(e){this.openDestructive(e)}},{key:"openDestructive",value:function(e){var t=this;(0,this.props.setPopoutApp)(o.a.createElement(V.a,{actionsLayout:"vertical",actions:[{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",autoclose:!0,mode:"destructive",action:function(){return t.removeItem(e)}},{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"}],onClose:this.closePopout},o.a.createElement("h2",null,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c?"),o.a.createElement("p",null,"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430?")))}},{key:"openAddGroupForm",value:function(){console.log("modal"),(0,this.props.setModalApp)(o.a.createElement(Re,{addItemHandler:this.addItem}))}}]),t}(o.a.Component)),Te=Object(m.b)((function(e){return{state:e,popout:e.popoutApp.popout,modal:e.modalApp.modal}}),(function(e){return{dispatch:e,setPopoutApp:function(t){return e(function(e){return function(t){t({type:"SET_POPOUT",block:e})}}(t))},setModalApp:function(t){return e(re(t))}}}))(Ae),we=function(e){return o.a.createElement(ee,{id:"groups"},o.a.createElement(V.p,null,"\u041e\u0431\u0449\u0438\u0435 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438"),o.a.createElement(Te,null))},xe=(n(162),function(){return o.a.createElement(ee,{id:"layout"},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430! ",o.a.createElement(u.a,{to:"/"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443..."))}),Ue=(n(163),n(164),L(I,a)),Ce=Object(p.syncHistoryWithStore)(u.d,Ue);l.a.send("VKWebAppInit",{}),s.a.render(o.a.createElement(m.a,{store:Ue},o.a.createElement(u.c,{history:Ce},o.a.createElement(u.b,{exact:!0,path:"/",component:de}),o.a.createElement(u.b,{exact:!0,path:"/contacts",component:fe}),o.a.createElement(u.b,{exact:!0,path:"/faq",component:he}),o.a.createElement(u.b,{exact:!0,path:"/groups",component:we}),o.a.createElement(u.b,{component:xe}))),document.getElementById("root"))}},[[127,1,2]]]);
//# sourceMappingURL=main.a4d6b583.chunk.js.map